 <mat-tab label="This Week">
	<div class="d-flex flex-wrap justify-content-center">
		<div class="p-3"
			*ngFor=" let i of notes | async | dateRangeFilter : dateConfig.beginningOfWeek : dateConfig.endOfWeek | dateSort">
			<app-card [note]="i"
				(deleteNoteEmitter)="delete($event)" (editNoteEventEmitter)="openDialog($event)">
			</app-card>
		</div>
	</div>
</mat-tab>

<mat-tab label="This Month">
	<div class="d-flex flex-wrap justify-content-center">
		<div class="p-3"
			*ngFor=" let i of notes| async | dateRangeFilter : dateConfig.beginningOfMonth : dateConfig.endOfMonth | dateSort">
			<app-card [note]="i"
				(deleteNoteEmitter)="delete($event)" (editNoteEventEmitter)="openDialog($event)">
			</app-card>
		</div>
	</div>
</mat-tab>

<mat-tab label="All">
	<div class="d-flex flex-wrap justify-content-center">
		<div class="p-3" *ngFor="let i of notes | async | dateSort ">
			<app-card [note]="i"
				(deleteNoteEmitter)="delete($event)" (editNoteEventEmitter)="openDialog($event)">
			</app-card>
		</div>
	</div>
</mat-tab>



import { Injectable } from '@angular/core'

@Injectable({
	providedIn: 'root'
})
export class DateConfig {
	beginningOfDay = new Date().setHours(0, 0, 0, 0)

	endOfDay = new Date().setHours(23, 59, 59)

	beginningOfMonth = new Date(
		new Date().getFullYear(),
		new Date().getMonth(),
		1
	).setHours(0, 0, 0, 0)

	endOfMonth = new Date(
		new Date().getFullYear(),
		new Date().getMonth() + 1,
		0
	).setHours(23, 59, 59, 999)

	beginningOfWeek =
		new Date().setHours(0, 0, 0, 0) - new Date().getDay() * 86400000

	endOfWeek = new Date(
		new Date(this.beginningOfWeek).setDate(
			new Date(this.beginningOfWeek).getDate() + 7
		)
	).setHours(23, 59, 59, 999)
}


import { Pipe, PipeTransform } from '@angular/core'
import { INote } from 'src/models/note'

@Pipe({
	name: 'dateRangeFilter'
})
export class DateRangeFilterPipe implements PipeTransform {
	transform(notes: INote[], startDate: number, endDate: number): INote[] {
		return notes.filter(x => startDate <= x.writtenOn.getTime() && x.writtenOn.getTime() <= endDate)
	}
}


